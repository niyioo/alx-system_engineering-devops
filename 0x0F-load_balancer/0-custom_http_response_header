#!/usr/bin/env bash
# This script configures Nginx to add a custom HTTP response header.
# Install Nginx if not already installed
if ! dpkg -l | grep -q "nginx"; then
  sudo apt-get update
  sudo apt-get install -y nginx
fi

# Create a custom Nginx configuration file for the custom header
echo 'add_header X-Served-By $hostname;' | sudo tee /etc/nginx/conf.d/custom-header.conf

# Test Nginx configuration for syntax errors
sudo nginx -t

# Reload Nginx to apply the configuration
sudo systemctl reload nginx
